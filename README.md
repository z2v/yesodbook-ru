Структура репозитория
---------------------

Файлы для перевода находятся в папке `tex` и разнесены по папкам, названия
которых совпадают с именами соответствующих файлов оригинала (без расширения
`asciidoc`). В той же папке находятся исходные файлы для примеров из главы и
картинки. Текст перевода главы находится в файле `chapter.tex`.

Перевод соответствует версии оригинала, зафиксированного в папке `src`.

Правила обновления перевода
---------------------------
* Обновляется/добавляется файл оригинала в папке `src`.
* Соответствующим образом обновляется текст перевода, примеры и картинки.
* Все изменения для главы (оригинал + перевод) заносятся одним коммитом.
* Массовые обновления глав разбиваются на отдельные коммиты по главам.

Сборка книги
------------

Для сборки книги требуется установленный дистрибутив TeX (например,
[TeX Live][texlive]) и шрифты Liberation.

Выполняем `make`. В результате успешной сборки в корне проекта создаётся файл
`Developing Web Applications with Haskell and Yesod.pdf`.

[texlive]: http://www.tug.org/texlive


Сборка примеров
---------------

Для сборки примеров требуется установленный компилятор Haskell и утилита `cabal`.

1. Создаём песочницу (опционально, требуется `cabal>=1.18`):

    ```
        make sandbox
    ```

2. Устанавливаем необходимые пакеты:

    ```
        make install-packages
    ```

3. Собираем конкретный пример:

    ```
        make wiki
    ```

    или все примеры:

    ```
        make examples
    ```

Исполняемые файлы примеров создаются в каталоге `tmp/bin`. Для подавляющего
числа примеров (для всех однофайловых) выполняется правило: имя бинарного файла
совпадает с именем исходного файла без расширения `hs`. Имя исходного файла
выводится в подписи под листингом кода в тексте книги.
