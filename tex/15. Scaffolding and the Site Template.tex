\chapter{Создание каркаса сайта}

Вы уже устали запускать маленькие примеры и готовы написать настоящий сайт?
Тогда вы читаете нужную главу. Даже при наличии библиотеки Yesod \marginpar{at your fingertips},
остаётся ещё много шагов, которые нужно пройти, чтобы получить production-quolity 
конфигурацию сайта:

\begin{itemize}
  \item разбор файлов конфигурации
  \item поддержка сигналов (*nix)
  \item более эффективная поддержка статических файлов
  \item хорошее расположение файлов \marginpar{layout}
\end{itemize}

Каркас сайта является комбинацией лучших техник собранных вместе в готовый к 
использованию сайт. И он (highly) очень рекомендуется для всех сайтов.
Эта глава описывает структуру каркаса, как использовать его, и некоторые 
неочевидные возможности.

Основная часть данной главы не содержит примеров кода. Рекомендуется 
просматривать собранный каркас. \marginpar{переписать предложение}

\begin{remark}
 Т.к. nature of каркаса сайта, это наиболее изменяемый компонент Yesod, и 
 он может изменяться от версии к версии. Поэтому информация в этой главе
 может быть немного устаревшей.
\end{remark}

\section{Как создавать каркас}

Пакет Yesod содержит  себе библиотеку и исполняемый файл (conveniently 
названый \lstinline!yesod!). Этот файл предоставляет небольшой набор 
команд (запустите \lstinline!yesod! чтобы увидеть весь список). Команда
\lstinline!yesod init! генерировать каркас сайта. Она запустит процесс
вопрос-ответ в котором вы должны будете указать минимальную информацию
(ваше имя, название проекта, и т.д.). После ответов на вопросы создастся 
шаблон проекта в подкаталоге с названием проекта.\marginpar{не точный перевод}

Наиболее важный вопрос о backend базы данных. У вас будет четыре варианта 
выбора: \texttt{SQLite}, \texttt{PostgreSQL}, \texttt{MongoDB}, и tiny. 
Tiny это не движок базы данных, это указание, что вы не хотите использовать
какую-либо базу данных. Этот выбор так же отключит некоторые дополнительные
зависимости и вы получите, leaner overall site. Далее в этой главе мы предполагаем,
что выбран один из движков баз данных. В случае с отсутсвующим движком 
существуют минимальные отличия.

После создания файлов, scrappfolder напишет команды для запуска сайта.
Существует два набора опций команд: одни для использования \texttt{cabal},
другие для использования \texttt{cabal-dev}. \texttt{cabal-dev} это обёртка
вокруг \texttt{cabal}, собирающая все зависимости в песочнице. Использование
его good way, чтобы убедиться, что установка других пакетов, не сломает сайт.
Его использование рекомендуется. Если у вас нет \texttt{cabal-dev}, то вы можете
установить его командой \lstinline!cabal install cabal-dev!.

Заметьте, что вам нужно использовать команду \lstinline!cabal install --only-dependencies! 
или \lstinline!cabal-dev install --only-dependencies!. Вероятно, что у вас не 
установлены все зависимости требуемые для сайта. Например, ни одного backend
базы данных, ни минификатора Javascript (\footnotehref{http://hackage.haskell.org/package/hjsmin}{hjsmin})
обычно не при установке пакета \texttt{yesod}.

И наконец, для того, чтобы запустить разработческий сайт, вам нужно использовать
\lstinline!yesod devel! (или \lstinline!yesod --dev devel!). Сайт автоматически
пересоберётся и будет перезагружаться при всех изменениях кода.

\section{Структура файлов}

Каркас сайта является полностью "кабализированным" приложением. В дополнение
к исходным файлам, конфигурационным файлам, шаблонам так же создаются статические файлы.

\subsection{Кабал файл}


