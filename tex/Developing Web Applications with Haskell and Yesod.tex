\documentclass[]{book}

\usepackage{fontspec}
\defaultfontfeatures{Mapping=tex-text}  % For archaic input (e.g. convert -- to en-dash)

\setmainfont{DejaVu Serif}
\setsansfont{DejaVu Sans}
\setmonofont{DejaVu Sans Mono}

\usepackage{polyglossia}
\setdefaultlanguage{russian}

\usepackage{listings}

\usepackage{graphicx}
% graphics path
\graphicspath{{../img/}}

% XeLaTeX tricks
\usepackage{xltxtra}

\usepackage{caption}
\usepackage{subcaption}

% set listings default parameters
\lstset{language=Haskell,
	extendedchars=true,
	inputencoding=utf8
}

\begin{document}

\input "S1. Basics.tex"
\input "S2. Advanced.tex"
\input "S3. Examples.tex"
\input "S4. Appendices.tex"

\end{document}
