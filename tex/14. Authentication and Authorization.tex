Аутентификая и Авторизация

Аутентификая и Авторизация обе очень связанные, и вдобавок раздельные, концепции. В то время имея дело с идентификацией пользователя, последнее определяет, что позволенно пользователю. К сожалению, также оба термина часто обозначаются как \textquotedblleft auth\textquotedblright, как концепции часто объединенные.
Yesod обеспечивает встроенную поддержку для нескольких сторонних систем аутентификации, таки как OpenID, BrowserID и OAuth. Эти системы, где ваше приложение доверяет некоторой внешней системе для подтверждения данных пользователя. В дополнении, есть поддержка для более часто используемых имяпользователя/пароль и адреспочты/пароль систем. Предыдущий способ гарантирует простоту для пользователей (нет новых паролей для запоминания) и разработчиков (нет нужды иметь дело с полной архитектурой защиты), в то время как последнее дает разработчику больший контроль.
На стороне авторизации, нам позволено воспользоваться REST и типобезопасными URL-и, чтобы создавать простые, декларативные системы. В дополнении, также все авторизационные коды написаны на Haskell, и вы имеете всю гибкость языка в вашем распоряжении.
Эта глава покроет, как установить \textquotedblleft auth\textquotedblright решение в Yesod и рассмотрим некоторые компромисы в различных опциях аутентификации.
Обзор

Пакет yesod-auth обеспечивает унифицированный интерефейс для различных плагинов аутентификации. Только настоящее требование для этих бэкэндов, чтобы они идентифицировали пользователя основываясь на уникальной строке. В OpenID, к примеру, это может быть фактическое значение OpenID. В BrowserID, это адрес электронной почты. Для HashDB (который использует базу данных хэшированных паролей), это имя пользователя.
Каждый плагин аутентификации обеспечивает свою собственную систему для входа, любая из двух — это может быть через прохождение токенов с внешнего сайта или формы адрес электронной почты/пароль. После успешного входа, плагин устанавливает значения в пользовательской сессии, чтобы обозначить его/её AuthId. Этот AuthId обычно Persistent ID из таблицы используемой для отслеживания пользователей. 